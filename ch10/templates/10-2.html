<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8">
      <title>초음파 센서 모니터링</title>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.2/mqttws31.min.js" type="text/javascript"></script>
      <script src="./static/mqttio2.js" type="text/javascript"></script>
      <script>
            window.addEventListener("load", function () {
                // http://192...5:8080/에서 192...5의 IP만 끊어내는 코드
                var url = new String(document.location);
                ip = (url.split("//"))[1]; // ip = "192...:8080/"
                ip = (ip.split(":"))[0]; // ip = "192..."
                document.getElementById("broker").value = ip
            });
      </script>
   </head>
   <body>
         <h3>초음파 센서 모니터링</h3>
         <hr>
         <form id="connection-form">
            <b>브로커 IP:</b>
            <input id="broker" type="text" name="broker" value=""><br>
            <b>포트 번호 :</b>
            <input id="port" type="text" name="port" value="9001"><br>
            <b>토픽 문자열 :</b>
            <input id="topic" type="text" name="topic" value="ultrasonic"><br><br>
            <input type="button" onclick="connect()" value="Connect">
            <input type="button" onclick="disconnect()" value="Disconnect">
         </form>
         <div id="messages"></div>
   </body>
</html>